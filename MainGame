//Main Game

#include <iostream>
#include <iomanip>
#include <cstdlib>
#include <string>

using namespace std;

//Main Menu Functions
void run_new_game();
void run_load_game();
void run_stats();
void run_rules();
void run_main_menu();
void print_board() {
    
}

void start_new_game(int difficulty, int SizeX, int SizeY, int numMines) {

}

//Lets the user pick some settings before starting a new game.
void run_new_game() {
    cout << "Please choose a difficulty" << endl;
    cout << "Enter (1) for Beginner" << endl;
    cout << "Enter (2) for Intermediate" << endl;
    cout << "Enter (3) for Expert" << endl;
    cout << "Enter (4) for Custom (Game stats not saved)" << endl;
    string userInput;
    bool validInput = false;
    while (validInput == false) {
        cin >> userInput;
        if (userInput == "1" || userInput == "(1)"){
            validInput = true;
            start_new_game(1, 8, 8, 10);
        }
        else if (userInput == "2" || userInput == "(2)"){
            validInput = true;
            start_new_game(2, 16, 16, 40);
        }
        else if (userInput == "3" || userInput == "(3)"){
            validInput = true;
            start_new_game(3, 30, 16, 99);
        }
        else if (userInput == "4" || userInput == "(4)"){
            validInput = true;
            int sizeX, sizeY, numMines;
            cout << "Please enter the width of the board: (4-30)" << endl;
            //Code to take width of the board
            //Must be an int 4-30. Take user input and store it in sizeX. If invalid input, prompt user again.
            cout << "Please enter the height of the board: (4-26)" << endl;
            //Code to take height of the board
            cout << "Please enter the number of mines: (1-255)" << endl;
            //Code to take the number of mines
        }
        else {
            cout << "Invalid User Input. Please try again." << endl;
            cout << "Please choose a difficulty" << endl;
            cout << "Enter (1) for Beginner" << endl;
            cout << "Enter (2) for Intermediate" << endl;
            cout << "Enter (3) for Expert" << endl;
            cout << "Enter (4) for Custom (Game stats not saved)" << endl;
        }
    }
    
}

//Loads a game from our file of saved games
void run_load_game(){
    cout << "Please choose a game to load" << endl;
}

//Shows the stats of our player
void run_stats(){
    
}

//Explains the rules of the game
void run_rules(){
    cout << "Here's how to play" << endl;
    // Explain the rules
    cout << "(Press any key to continue)..."<< endl;
    string userInput;
    cin >> userInput;
    run_main_menu();
}

void run_main_menu(){
    cout << "MINESWEEPER TEXT EDITION!!" << endl;
    cout << "Enter (1) for New Game" << endl;
    cout << "Enter (2) for Load Game" << endl;
    cout << "Enter (3) for Stats/Game History" << endl;
    cout << "Enter (4) for Rules/Help" << endl;
    string userInput;
    bool validInput = false;
    while (validInput == false) {
        cin >> userInput;
        if (userInput == "1" || userInput == "(1)"){
            validInput = true;
            run_new_game();
        }
        else if (userInput == "2" || userInput == "(2)"){
            validInput = true;
            run_load_game();
        }
        else if (userInput == "3" || userInput == "(3)"){
            validInput = true;
            run_stats();
        }
        else if (userInput == "4" || userInput == "(4)"){
            validInput = true;
            run_rules();
        }
        else {
            cout << "Invalid User Input. Please try again." << endl;
            cout << "Enter (1) for New Game" << endl;
            cout << "Enter (2) for Load Game" << endl;
            cout << "Enter (3) for Stats/Game History" << endl;
            cout << "Enter (4) for Rules/Help" << endl;
        }
    }
}    

int main(){
    run_main_menu();
    
    return 0;
}
